<section class="vh-100 mt-5 mb-5" style="background-color: rgb(255, 255, 255);">
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-lg-12 col-xl-11">
        <div
          class="card text-white"
          style="border-radius: 25px; background-color: rgb(255, 255, 255);"
        >
          <div class="card-body p-md-5">
            <div class="row justify-content-center">
              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">

                <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Sign up</p>

                <form
                  class="mx-1 mx-md-4"
                  action="/signup"
                  method="post"
                  id="myForm"
                >

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input type="text"
                        id="name"
                        name="name"
                        class="form-control"
                        onkeyup="validateName()"/>

                      <label class="form-label" for="name">Your Name</label><br
                      />
                      <span id="name-error"></span>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input
                        type="email"
                        id="email"
                        name="email"
                        class="form-control"
                        onkeyup="validateEmail()"
                      />

                      <label class="form-label" for="email">Your Email</label><br
                      />
                      <span id="email-error"></span>
                    </div>
                  </div>

                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input
                        type="password"
                        id="password"
                        name="password"
                        class="form-control"
                        onkeyup="validatePassword()"
                      />

                      <label
                        class="form-label"
                        for="password"
                      >Password</label><br />
                      <span id="password-error"></span>
                    </div>
                  </div>
                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input
                        type="password"
                        id="c_password"
                        name="c_password"
                        class="form-control"
                        onkeyup="validateCpassword()"
                      />

                      <label class="form-label" for="password">Confirm Password</label><br
                      />
                      <span id="c_password-error"></span>
                    </div>
                  </div>
                  <div class="d-flex flex-row align-items-center mb-4">
                    <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                    <div class="form-outline flex-fill mb-0">
                      <input
                        type="text"
                        id="phone"
                        name="phone"
                        class="form-control"
                        onkeyup="validatePhone()"
                      />

                      <label
                        class="form-label"
                        for="phone"
                      >Phone</label><br />
                      <span id="phone-error"></span>
                    </div>
                  </div>

                  <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                    <button type="submit" class="btn btn-dark btn-lg">Sign Up</button>
                  </div>
                  <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                    <a
                      style="text-decoration: none; color:rgb(255, 255, 255)"
                      href="/"
                    >Login Here</a>
                  </div>
                    {{#if regError}}
        <p style="color: white;" class="error">User Already exist</p>
      {{/if}}

                </form>

              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  const form = document.getElementById("myForm"); 
  const nameError =document.getElementById("name-error");
  const emailError=document.getElementById("email-error");
  const passwordError=document.getElementById("password-error")
  const c_passwordError=document.getElementById("c_password-error")
  const phoneError=document.getElementById("phone-error")
  form.addEventListener('submit', e => {
   if(validateName()&&validateEmail()&&validatePassword()&&validateCpassword()&&validatePhone()){

  console.log('hai') }
  else{
     e.preventDefault() 
     var error=document.getElementById('submit-error') 
     error.innerHTML='Fill all fields' 
     error.style.color='red' 
     setTimeout(function(){ 
      error.innerHTML=''
  },3000); } })
   function validateName() { 
    console.log('validate name')
    var name=document.getElementById('name').value.trim(); 
    if (name.length==0) {
  nameError.innerHTML='Name is Required';
   nameError.style.color='red'
    return false; } 
    if (!name.match(/^[A-Za-z]*$/)){ 
      nameError.innerHTML='Write a Validname';
       nameError.style.color='red'
        return false; }
    nameError.innerHTML='Name is valid'; 
    nameError.style.color='green' 
    return true; } 
    function validateEmail(){ 
      var email =document.getElementById('email').value.trim(); 
      if (email.length==0) {
  emailError.innerHTML='Email is Required'; 
  emailError.style.color='red'
  return false; }
   if
  (!email.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))
  { 
    emailError.innerHTML='Email is Invalid'; 
    emailError.style.color='red'
  return false;
   } 
   emailError.innerHTML='Email is valid';
  emailError.style.color='green' 
  return true; }
   function validatePassword() {
  var password =document.getElementById('password').value.trim(); 
  var Required=8;
   var left=Required - password.length;
    if(left>0){
  passwordError.innerHTML =left+ 'more character Required';
  passwordError.style.color='red' 
  return false; }
  passwordError.innerHTML='Password is valid'; 
  passwordError.style.color='green'
  return true;
   }
    function validateCpassword()
    { var password =document.getElementById('password').value.trim(); 
    var c_password=document.getElementById('c_password').value.trim(); 
    if(password!=c_password){
  c_passwordError.innerHTML ='Password does not match';
  c_passwordError.style.color='red'
   return false; }
  c_passwordError.innerHTML='Password match';
  c_passwordError.style.color='green'
   return true; }
   function validatePhone() {
    var phone=document.getElementById('phone').value.trim();  

    if (phone.length==0) {
        phoneError.innerHTML='Phone no is Required';
        phoneError.style.color='red'
        return false;
    }
    else if (phone.length<10) {
        phoneError.innerHTML='Write a valid phone no';
        phoneError.style.color='red'
        return false;
    }

    if (!phone.match(/^[0-9]*$/)){
        phoneError.innerHTML='Write a valid phoneno';
        phoneError.style.color='red'
        return false;
    }
    
    phoneError.innerHTML='Phone no is valid';
    phoneError.style.color='green'
    return true;
}

</script>