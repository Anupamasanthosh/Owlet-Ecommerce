

<section>
<div class="container me-5 mt-5">
  <div class="row ">
      <div class="col">
        <nav aria-label="breadcrumb" class="bg-light rounded-3 p-3 mb-4">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item"><a href="/admin/adminDash">Home</a></li>
            <li class="breadcrumb-item"><a href="/admin/Brands">Brands</a></li>
            <li class="breadcrumb-item"><a href="/admin/add-brand">Add Brand</a></li>
          </ol>
        </nav>
      </div>
  </div> 
</div>
<section class="container me-5 mt-3">
  <div class="row">
    <div class="mask d-flex align-items-center h-100">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-12">
            <div class="card shadow-2-strong" style="background-color: #f5f7fa;">
              <div class="card-header px-4 py-5">
            <h5 class="text-muted mb-0">Add Brand</h5>
          </div>
          <div class="card-body">

        
    
        <form
          action="/admin/add-brand"
          method="post"
          enctype="multipart/form-data"
          id="myForm" 
        >

          <label for="">Name</label>
          <input type="text" class="form-control col-xs-4" name="Name" id="Name" onkeyup="validateName()" />
          <span id="name-error"></span><br>
         
          
          
          <label for="" class="mt-4">Image</label>
          <input type="file" class="form-control" name="image" id="brandImg"  onkeyup="validateImage()" />
          <span id="file-error"></span><br>
         
          <button type="submit" class="btn btn-dark mt-4">Add</button>
          <span id="submit-error"></span>
        </div>
        </form>
      </div>
      
    </div>
  </div>
</div>
</section>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.css"></style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.js"></script>
<script>
  const form = document.getElementById("myForm"); 
  const nameError =document.getElementById("name-error");

  const fileError=document.getElementById("file-error");
  form.addEventListener('submit', e => {
   if(validateName()&&validateImage())
   {
      console.log('hai') 
    }
  else{
     e.preventDefault() 
     var error=document.getElementById('submit-error') 
     error.innerHTML='Fill all fields' 
     error.style.color='Red' 
     setTimeout(function()
     { 
      error.innerHTML=''

      },3000);
    } 
    })
  function validateName()
   { 
    console.log('validate name')
    var name=document.getElementById('Name').value.trim(); 
    if (name.length==0)
     {
    nameError.innerHTML='Name is Required';
    nameError.style.color='red'
    return false; 
    } 
    else{
      nameError.innerHTML='Name is valid'; 
    nameError.style.color='green' 
    return true;
    }
   }
   
   function validateImage()
   {
    console.log('validate image')
    
    var fileInput=document.getElementById('image');
     var allowedExtensions =
        /(\.jpg|\.jpeg|\.png|\.gif|\.webp)$/i;
     var filePath = fileInput.value;
        if (!allowedExtensions.exec(filePath)) 
        {
          fileError.innerHTML="Invalid file type";
          fileError.style.color='Red' 
          fileInput.value = '';
          return false;
        }
        else if(document.getElementById('image').files.length==0)
        {
          fileError.innerHTML="No files selected"
          fileError.style.color='red'
          return false
        }
        else{
         fileError.innerHTML='File is valid'; 
         fileError.style.color='green' 
          return true;
        }
    
   }
   

   
</script>